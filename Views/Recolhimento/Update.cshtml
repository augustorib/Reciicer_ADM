@model Reciicer.Models.Entities.Recolhimento
@{
    ViewData["Title"] = "Atualizar Recolhimento";
}

<h1>@ViewData["Title"]</h1>

<div>

    <form method="post" asp-action="Update">

        <div class="form-group row my-4">
            <div class="col-md-5">
                <label asp-for="Cooperativa.Nome" class="form-label">@Html.DisplayNameFor(model => model.Cooperativa.Nome)</label>
                <input asp-for="Cooperativa.Nome" class="form-control" disabled>
            </div>
            <div class="col-md-3">
                <label asp-for="DataRecolhimento" class="form-label">@Html.DisplayNameFor(model => model.DataRecolhimento):</label>
                <input asp-for="DataRecolhimento" class="form-control" disabled>
            </div>
        </div>

        <table class="table table-striped" id="dataTableInit">
            <thead>
                <tr>
                    <th>Material</th>
                    <th>Qnt Recolhida</th>
                    <th>(g) Recolhida</th>
                    <th>Qnt Recolher</th>
                    <th>(g) Recolher</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Model.RecolhimentoEstoqueMateriais.Count(); i++)
                {
                    
                    var item = Model.RecolhimentoEstoqueMateriais.ElementAt(i);

                    <tr>    
                        <td>@item.EstoqueMaterial.Material.Nome</td>
                        <td>@item.Quantidade</td>
                        <td>@item.Peso</td>
                        <td>
                            <input type="hidden" name="RecolhimentoEstoqueMateriais[@i].Id" value="@item.Id"/>
                            <input type="hidden" name="RecolhimentoEstoqueMateriais[@i].EstoqueMaterialId" value="@item.EstoqueMaterialId"/>
                            <input type="number" name="RecolhimentoEstoqueMateriais[@i].Quantidade" class="form-control" />
                        </td> 
                        <td>
                            <input type="number" name="RecolhimentoEstoqueMateriais[@i].Peso" class="form-control" />
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        <div class="form-group mt-2">
            <button type="submit" class="btn btn-warning text-white">Atualizar <i class="fa-solid fa-pen"></i></button>
            <a asp-action="Index" class="btn btn-secondary">Voltar <i class="fa-solid fa-rotate-left"></i></a>
        </div>

    </form>
    
</div>